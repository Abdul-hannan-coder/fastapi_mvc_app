<!DOCTYPE html>
<html lang="en">
  {% include "partials/head.html" %}
  <body>
    {% include "partials/navbar.html" %}

    <main class="py-5">
      <div class="container">
        <div class="row justify-content-md-center">
          <div class="col-md-8">
            <div class="card">
              <div class="card-header card-title">
                <strong>Add New Contact</strong>
              </div>
              <div class="card-body">
              <form 
  method="post" 
  action="{% if edit %}/contacts/edit/{{ contact.id }}{% else %}/contacts/create{% endif %}"
>
  <div class="form-group row">
    <label for="first_name" class="col-md-3 col-form-label">First Name</label>
    <div class="col-md-9">
      <input 
        type="text" 
        name="fname" 
        id="first_name" 
        class="form-control" 
        required 
        minlength="2" 
        maxlength="50"
        value="{{ contact.fname if contact else '' }}"
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="last_name" class="col-md-3 col-form-label">Last Name</label>
    <div class="col-md-9">
      <input 
        type="text" 
        name="lname" 
        id="last_name" 
        class="form-control" 
        required 
        minlength="2" 
        maxlength="50"
        value="{{ contact.lname if contact else '' }}"
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="email" class="col-md-3 col-form-label">Email</label>
    <div class="col-md-9">
      <input 
        type="email" 
        name="email" 
        id="email" 
        class="form-control" 
        required
        value="{{ contact.email if contact else '' }}"
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="phone" class="col-md-3 col-form-label">Phone</label>
    <div class="col-md-9">
      <input 
        type="text" 
        name="phone" 
        id="phone" 
        class="form-control" 
        pattern="^\+?\d{10,15}$" 
        required
        value="{{ contact.phone if contact else '' }}"
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="address" class="col-md-3 col-form-label">Address</label>
    <div class="col-md-9">
      <textarea 
        name="address" 
        id="address" 
        rows="3" 
        class="form-control" 
        required 
        minlength="5" 
        maxlength="100"
      >{{ contact.address if contact else '' }}</textarea>
    </div>
  </div>

  <hr />
  <div class="form-group row mb-0">
    <div class="col-md-9 offset-md-3">
      <button type="submit" class="btn btn-primary">
        {% if edit %} Update {% else %} Save {% endif %}
      </button>
      <a href="/contacts" class="btn btn-outline-secondary">Cancel</a>
    </div>
  </div>
</form>

              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
